$(function(){function c(){query=$("#query").val();lang=$("#lang").find("option:selected").text();lang=="All"&&(lang="");$.ajax({dataType:"jsonp",jsonp:"callback",url:"http://searchco.de/api/jsonp_search_IV/?q="+lang+" "+query+"&p="+(current-1)*10+"&callback=?",success:function(a){a.total>10?(pages=parseInt(a.total/10),a.total%10>0&&pages++):pages=1;$("#results").hide();$("#info h3").html('Found "'+a.total+'" results.');$("#results .result").remove();for(var b=0;b<a.results.length;b++)$("#results").append(' \t\t\t\t\t\t\t<div class="result">\t\t\t\t\t\t\t\t<h3><a class="resultLink" href="'+
a.results[b].url+'">'+a.results[b].name+"</a> <sup>["+a.results[b].type+']</sup></h3>\t\t\t\t\t\t\t\t<p class="description">'+a.results[b].description+'</p>\t\t\t\t\t\t\t\t<p class="synopsis">'+a.results[b].synopsis+'</p>\t\t\t\t\t\t\t\t<div class="namespace">'+a.results[b].namespace+"</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t");$("#results").fadeIn("1500");$("#page").html("").removeAttr("disabled");for(b=0;b<pages;b++)$("#page").append("<option name="+(b+1)+" value="+(b+1)+">"+(b+1)+"</option>");$("#page option[name="+
current+"]").attr("selected",!0)}})}function d(a){return(a=RegExp(a+"=([^&]*)","i").exec(window.location.search))&&a[1]||""}footerHeight=$("footer").height();$("#results").css("margin-bottom",2*footerHeight);current=1;fancyWidth=parseInt($(window).width()*0.95);fancyHeight=parseInt($(window).height()*0.95);$(".resultLink").fancybox({width:fancyWidth,height:fancyHeight,type:"iframe"});getQ=d("q");getLang=d("lang");typeof getLang!="undefined"&&getLang!==null&&getLang!==""&&$('#lang option[name="'+getLang+
'"]').html()!=null&&$('#lang option[name="'+getLang+'"]').attr("selected",!0);typeof getQ!="undefined"&&getQ!==null&&getQ!==""&&($("#query").val(getQ),c());$("form").submit(function(a){a.preventDefault();c()});$("#lang").change(function(a){a.preventDefault();c()});$("#page").live("change",function(){current=$("#page option:selected").val();c();$("#page option[name="+current+"]").attr("selected",!0)});$("#page select").mouseup(function(a){a.preventDefault();$("#page option[name="+current+"]").attr("selected",
!0)})});
